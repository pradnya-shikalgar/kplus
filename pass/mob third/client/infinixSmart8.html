<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KPlus - Mobile Repair</title>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      background: #f8f9fa;
      color: #222;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 30px;
      background: #fff;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    header .logo {
      font-size: 24px;
      font-weight: bold;
      color: red;
    }

    .location-dropdown, .auth {
      display: flex;
      align-items: center;
      gap: 20px;
    }

    select, button {
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 14px;
    }

    .auth button, .add-btn, .book-btn, .apply-btn {
      background: red;
      color: white;
      border: none;
      cursor: pointer;
      transition: background 0.3s;
    }

    .auth button:hover, .add-btn:hover, .book-btn:hover, .apply-btn:hover {
      background: #d40000;
    }

    .add-btn, .book-btn {
      margin-top: 10px;
    }

    main {
      max-width: 1200px;
      margin: 40px auto;
      padding: 0 20px;
    }

    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .services {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-top: 20px;
    }

    .card {
      background: white;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      width: 230px;
      padding: 15px;
      text-align: center;
      transition: transform 0.3s;
    }

    .card:hover {
      transform: translateY(-5px);
    }

    .card img {
      width: 80px;
      height: 80px;
      object-fit: contain;
    }

    .card h3 {
      margin: 10px 0;
      font-size: 16px;
    }

    .card p {
      margin: 5px 0;
      font-size: 14px;
    }

    .card s {
      color: #999;
      margin-left: 5px;
    }

    .modal {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.6);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    .modal.active {
      display: flex;
    }

    .modal-content {
      background: white;
      padding: 30px;
      border-radius: 10px;
      width: 300px;
      position: relative;
    }

    .modal-content input {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    .modal-content .close {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 20px;
      cursor: pointer;
    }

    footer {
      margin-top: 50px;
      padding: 20px;
      background: #222;
      color: #ccc;
      text-align: center;
    }

    .price-details {
      background: white;
      border-radius: 10px;
      padding: 20px;
      margin-top: 30px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .price-details h3 {
      margin-top: 0;
      border-bottom: 1px solid #eee;
      padding-bottom: 10px;
    }

    .coupon-section {
      display: flex;
      gap: 10px;
      margin: 15px 0;
    }

    .coupon-section input {
      flex: 1;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }

    .total-amount {
      display: flex;
      justify-content: space-between;
      font-weight: bold;
      font-size: 18px;
      margin-top: 20px;
      padding-top: 10px;
      border-top: 1px solid #eee;
    }

    .pickup-note {
      font-size: 14px;
      color: #666;
      margin-top: 10px;
      text-align: center;
    }
  </style>
</head>

<body>
<header>
  <div class="logo">KPlus</div>
  <div class="location-dropdown">
    <label for="location">Location:</label>
    <select id="location">
      <option>Islampur</option>
      <option>Sangli</option>
      <option>Kolhapur</option>
      <option>Karad</option>
    </select>
  </div>
  <div class="auth">
    <button onclick="toggleModal('loginModal')">Login</button>
    <button onclick="toggleModal('signupModal')">Sign Up</button>
  </div>
</header>

<main>
  <div class="top-bar">
    <h2 id="modelTitle">infinix Smart 8- Pick Your Repair Service</h2>
  </div>

  <div class="services" id="serviceList">
    <!-- Cards generated by JS -->
  </div>

  <div class="price-details">
    <h3>Price Details</h3>
    <div class="coupon-section">
      <input type="text" id="couponCode" placeholder="Enter coupon code">
      <button class="apply-btn" onclick="applyCoupon()">Apply</button>
    </div>
    <div class="total-amount">
      <span>Total Amount</span>
      <span id="totalAmount">₹0</span>
    </div>
    <p class="pickup-note">Pick and Drop Available for this service</p>
    <button class="book-btn" onclick="bookRepair()" style="width: 100%; padding: 12px; margin-top: 15px;">Book Repair</button>
  </div>
</main>

<!-- Modals -->
<div class="modal" id="loginModal">
  <div class="modal-content">
    <span class="close" onclick="toggleModal('loginModal')">&times;</span>
    <h2>Login</h2>
    <input type="email" id="loginEmail" placeholder="Email">
    <input type="password" id="loginPassword" placeholder="Password">
    <button onclick="login()">Login</button>
  </div>
</div>

<div class="modal" id="signupModal">
  <div class="modal-content">
    <span class="close" onclick="toggleModal('signupModal')">&times;</span>
    <h2>Sign Up</h2>
    <input type="text" id="signupName" placeholder="Full Name">
    <input type="email" id="signupEmail" placeholder="Email">
    <input type="password" id="signupPassword" placeholder="Password">
    <button onclick="signup()">Sign Up</button>
  </div>
</div>

<footer>
  &copy; 2025 KPlus | <a href="#" style="color: #ccc;">Privacy Policy</a> | <a href="#" style="color: #ccc;">Terms of Service</a>
</footer>

<script>
 const services = [
  { 
    name: "Infinix Smart 8 - Display Broken", 
    price: "₹7,000",  // Adjusted price for middle-class affordability
    old: "₹10,000", 
    image: "https://cdn-icons-png.flaticon.com/512/785/785116.png" 
  },
  { 
    name: "Infinix Smart 8 - Battery Issue", 
    price: "₹3,500",  // Adjusted price for middle-class affordability
    image: "https://cdn-icons-png.flaticon.com/512/3103/3103446.png" 
  },
  { 
    name: "Infinix Smart 8 - Charging Issue", 
    price: "₹4,500",  // Adjusted price for middle-class affordability
    image: "https://cdn-icons-png.flaticon.com/512/1172/1172426.png" 
  },
  { 
    name: "Infinix Smart 8 - Back Panel Broken", 
    price: "₹5,000",  // Adjusted price for middle-class affordability
    old: "₹8,000", 
    image: "https://cdn-icons-png.flaticon.com/512/901/901274.png" 
  },
  { 
    name: "Infinix Smart 8 - Broken Screen Glass Replacement", 
    price: "₹6,000",  // Adjusted price for middle-class affordability
    old: "₹9,000", 
    image: "https://cdn-icons-png.flaticon.com/512/785/785116.png" 
  },
  { 
    name: "Infinix Smart 8 - Complete Device Checkup", 
    price: "₹599",  // Adjusted price for middle-class affordability
    old: "₹1,000", 
    image: "https://cdn-icons-png.flaticon.com/512/3652/3652191.png" 
  },
  { 
    name: "Infinix Smart 8 - Front Camera Repair", 
    price: "₹5,500",  // Adjusted price for middle-class affordability
    old: "₹7,500", 
    image: "https://cdn-icons-png.flaticon.com/512/3468/3468374.png" 
  },
  { 
    name: "Infinix Smart 8 - Receiver Issue", 
    price: "₹4,500",  // Adjusted price for middle-class affordability
    image: "https://cdn-icons-png.flaticon.com/512/876/876019.png" 
  }
];

  const selectedServices = [];
  let totalAmount = 0;

  function renderServices() {
    const container = document.getElementById("serviceList");
    container.innerHTML = "";
    services.forEach((item, index) => {
      const oldPrice = item.old ? `<s>${item.old}</s>` : "";
      container.innerHTML += `
        <div class="card">
          <img src="${item.image}" alt="${item.name}">
          <h3>${item.name}</h3>
          <p>${item.price} ${oldPrice}</p>
          <button class="add-btn" onclick="addToCart(${index})">Add</button>
        </div>
      `;
    });
  }

  function addToCart(index) {
    const service = services[index];
    selectedServices.push(service);
    const price = parseInt(service.price.replace(/[^0-9]/g, ''));
    totalAmount += price;
    updateTotalAmount();
    alert(`${service.name} added to booking list.`);
  }

  function updateTotalAmount() {
    document.getElementById('totalAmount').textContent = `₹${totalAmount.toLocaleString('en-IN')}`;
  }

  function applyCoupon() {
    const couponCode = document.getElementById('couponCode').value;
    if (couponCode === 'ONGO10') {
      totalAmount = totalAmount * 0.9;
      updateTotalAmount();
      alert('Coupon applied successfully! 10% discount added.');
    } else {
      alert('Invalid coupon code');
    }
  }

  function bookRepair() {
    if (!selectedServices.length) {
      alert("Please select a service before booking.");
      return;
    }

    const orders = JSON.parse(localStorage.getItem("orders") || "[]");
    orders.push({
      date: new Date().toLocaleString(),
      location: document.getElementById("location").value,
      items: selectedServices.map(s => s.name),
      amount: totalAmount,
      status: 'pending'
    });

    localStorage.setItem("orders", JSON.stringify(orders));
    alert("Repair booked successfully!");
    selectedServices.length = 0;
    totalAmount = 0;
    updateTotalAmount();
  }

  function toggleModal(id) {
    document.getElementById(id).classList.toggle("active");
  }

  function signup() {
    const name = document.getElementById("signupName").value;
    const email = document.getElementById("signupEmail").value;
    const password = document.getElementById("signupPassword").value;

    if (!name || !email || !password) return alert("Fill all fields!");
    localStorage.setItem(email, JSON.stringify({ name, email, password }));
    alert("Signup successful!");
    toggleModal('signupModal');
  }

  function login() {
    const email = document.getElementById("loginEmail").value;
    const password = document.getElementById("loginPassword").value;
    const user = JSON.parse(localStorage.getItem(email));
    if (user && user.password === password) {
      alert(`Welcome back, ${user.name}`);
      toggleModal('loginModal');
    } else {
      alert("Invalid credentials.");
    }
  }

  document.addEventListener('DOMContentLoaded', function() {
    const model = localStorage.getItem('selectedModel');
    if (model) {
      document.getElementById('modelTitle').textContent = model + ' - Pick Your Repair Service';
    }
  });

  renderServices();
</script>
</body>
</html>